const sale_contract_addr = "0x14b570127FA1a797173Bb8320ADd31E8a9C5c4A7";
const sale_contract_abi = {
  _format: "hh-sol-artifact-1",
  contractName: "Sale",
  sourceName: "contracts/b/Sale.sol",
  abi: [
    {
      inputs: [
        {
          internalType: "contract NFTContract",
          name: "_nftContract",
          type: "address",
        },
        {
          internalType: "address payable",
          name: "_salesRecipient",
          type: "address",
        },
        {
          internalType: "uint256",
          name: "_price",
          type: "uint256",
        },
        {
          internalType: "address",
          name: "_royaltyRecipient",
          type: "address",
        },
        {
          internalType: "uint16",
          name: "_royaltyRate",
          type: "uint16",
        },
        {
          internalType: "uint16",
          name: "_maxSallingToken",
          type: "uint16",
        },
      ],
      stateMutability: "nonpayable",
      type: "constructor",
    },
    {
      anonymous: false,
      inputs: [
        {
          indexed: true,
          internalType: "address",
          name: "buyer",
          type: "address",
        },
        {
          indexed: true,
          internalType: "uint256",
          name: "tokenId",
          type: "uint256",
        },
      ],
      name: "Sold",
      type: "event",
    },
    {
      anonymous: false,
      inputs: [
        {
          indexed: true,
          internalType: "address",
          name: "salesRecipient",
          type: "address",
        },
        {
          indexed: false,
          internalType: "uint256",
          name: "amount",
          type: "uint256",
        },
      ],
      name: "Withdrawn",
      type: "event",
    },
    {
      inputs: [
        {
          internalType: "uint256",
          name: "tokenId",
          type: "uint256",
        },
        {
          internalType: "string",
          name: "tokenURI",
          type: "string",
        },
      ],
      name: "buy",
      outputs: [],
      stateMutability: "payable",
      type: "function",
    },
    {
      inputs: [],
      name: "maxSallingToken",
      outputs: [
        {
          internalType: "uint16",
          name: "",
          type: "uint16",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "nftContract",
      outputs: [
        {
          internalType: "contract NFTContract",
          name: "",
          type: "address",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "price",
      outputs: [
        {
          internalType: "uint256",
          name: "",
          type: "uint256",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "royaltyRate",
      outputs: [
        {
          internalType: "uint16",
          name: "",
          type: "uint16",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "royaltyRecipient",
      outputs: [
        {
          internalType: "address",
          name: "",
          type: "address",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "salesRecipient",
      outputs: [
        {
          internalType: "address payable",
          name: "",
          type: "address",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [],
      name: "soldTokenCounter",
      outputs: [
        {
          internalType: "uint16",
          name: "",
          type: "uint16",
        },
      ],
      stateMutability: "view",
      type: "function",
    },
    {
      inputs: [
        {
          internalType: "uint256",
          name: "amount",
          type: "uint256",
        },
      ],
      name: "withdrawFee",
      outputs: [],
      stateMutability: "nonpayable",
      type: "function",
    },
  ],
  bytecode:
    "0x60806040523480156200001157600080fd5b506040516200146d3803806200146d8339818101604052810190620000379190620002bd565b600160008190555085600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555084600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508360028190555082600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360146101000a81548161ffff021916908361ffff16021790555080600360166101000a81548161ffff021916908361ffff16021790555050505050505062000359565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620001818262000154565b9050919050565b6000620001958262000174565b9050919050565b620001a78162000188565b8114620001b357600080fd5b50565b600081519050620001c7816200019c565b92915050565b6000620001da8262000154565b9050919050565b620001ec81620001cd565b8114620001f857600080fd5b50565b6000815190506200020c81620001e1565b92915050565b6000819050919050565b620002278162000212565b81146200023357600080fd5b50565b60008151905062000247816200021c565b92915050565b620002588162000174565b81146200026457600080fd5b50565b60008151905062000278816200024d565b92915050565b600061ffff82169050919050565b62000297816200027e565b8114620002a357600080fd5b50565b600081519050620002b7816200028c565b92915050565b60008060008060008060c08789031215620002dd57620002dc6200014f565b5b6000620002ed89828a01620001b6565b96505060206200030089828a01620001fb565b95505060406200031389828a0162000236565b94505060606200032689828a0162000267565b93505060806200033989828a01620002a6565b92505060a06200034c89828a01620002a6565b9150509295509295509295565b61110480620003696000396000f3fe6080604052600436106100865760003560e01c8063a035b1fe11610059578063a035b1fe14610137578063b7dc3b1814610162578063be3576161461017e578063c4d1510d146101a7578063d56d229d146101d257610086565b80633833ee911461008b5780634c00de82146100b65780639051b451146100e15780639d65dc971461010c575b600080fd5b34801561009757600080fd5b506100a06101fd565b6040516100ad919061082c565b60405180910390f35b3480156100c257600080fd5b506100cb610211565b6040516100d89190610888565b60405180910390f35b3480156100ed57600080fd5b506100f6610237565b60405161010391906108c4565b60405180910390f35b34801561011857600080fd5b5061012161025d565b60405161012e919061082c565b60405180910390f35b34801561014357600080fd5b5061014c610271565b60405161015991906108f8565b60405180910390f35b61017c60048036038101906101779190610a99565b610277565b005b34801561018a57600080fd5b506101a560048036038101906101a09190610af5565b6105be565b005b3480156101b357600080fd5b506101bc6106d9565b6040516101c9919061082c565b60405180910390f35b3480156101de57600080fd5b506101e76106ed565b6040516101f49190610b81565b60405180910390f35b600360189054906101000a900461ffff1681565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600360169054906101000a900461ffff1681565b60025481565b600260005414156102bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b490610bf9565b60405180910390fd5b60026000819055506002543414610309576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030090610c65565b60405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16634f558e79836040518263ffffffff1660e01b815260040161036491906108f8565b60206040518083038186803b15801561037c57600080fd5b505afa158015610390573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b49190610cbd565b156103f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103eb90610d36565b60405180910390fd5b600360169054906101000a900461ffff1661ffff16600360189054906101000a900461ffff1661ffff161061045e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161045590610da2565b60405180910390fd5b6003601881819054906101000a900461ffff168092919061047e90610df1565b91906101000a81548161ffff021916908361ffff16021790555050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ea65ee05836104e0610713565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600360149054906101000a900461ffff16866040518663ffffffff1660e01b8152600401610535959493929190610ec4565b600060405180830381600087803b15801561054f57600080fd5b505af1158015610563573d6000803e3d6000fd5b5050505081610570610713565b73ffffffffffffffffffffffffffffffffffffffff167fae92ab4b6f8f401ead768d3273e6bb937a13e39827d19c6376e8fd4512a05d9a60405160405180910390a360016000819055505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166105ff610713565b73ffffffffffffffffffffffffffffffffffffffff1614610655576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064c90610f6a565b60405180910390fd5b610681600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168261071b565b610689610713565b73ffffffffffffffffffffffffffffffffffffffff167f7084f5476618d8e60b11ef0d7d3f06914655adb8793e28ff7f018d4c76d505d5826040516106ce91906108f8565b60405180910390a250565b600360149054906101000a900461ffff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600033905090565b8047101561075e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161075590610fd6565b60405180910390fd5b60008273ffffffffffffffffffffffffffffffffffffffff168260405161078490611027565b60006040518083038185875af1925050503d80600081146107c1576040519150601f19603f3d011682016040523d82523d6000602084013e6107c6565b606091505b505090508061080a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610801906110ae565b60405180910390fd5b505050565b600061ffff82169050919050565b6108268161080f565b82525050565b6000602082019050610841600083018461081d565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061087282610847565b9050919050565b61088281610867565b82525050565b600060208201905061089d6000830184610879565b92915050565b60006108ae82610847565b9050919050565b6108be816108a3565b82525050565b60006020820190506108d960008301846108b5565b92915050565b6000819050919050565b6108f2816108df565b82525050565b600060208201905061090d60008301846108e9565b92915050565b6000604051905090565b600080fd5b600080fd5b610930816108df565b811461093b57600080fd5b50565b60008135905061094d81610927565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6109a68261095d565b810181811067ffffffffffffffff821117156109c5576109c461096e565b5b80604052505050565b60006109d8610913565b90506109e4828261099d565b919050565b600067ffffffffffffffff821115610a0457610a0361096e565b5b610a0d8261095d565b9050602081019050919050565b82818337600083830152505050565b6000610a3c610a37846109e9565b6109ce565b905082815260208101848484011115610a5857610a57610958565b5b610a63848285610a1a565b509392505050565b600082601f830112610a8057610a7f610953565b5b8135610a90848260208601610a29565b91505092915050565b60008060408385031215610ab057610aaf61091d565b5b6000610abe8582860161093e565b925050602083013567ffffffffffffffff811115610adf57610ade610922565b5b610aeb85828601610a6b565b9150509250929050565b600060208284031215610b0b57610b0a61091d565b5b6000610b198482850161093e565b91505092915050565b6000819050919050565b6000610b47610b42610b3d84610847565b610b22565b610847565b9050919050565b6000610b5982610b2c565b9050919050565b6000610b6b82610b4e565b9050919050565b610b7b81610b60565b82525050565b6000602082019050610b966000830184610b72565b92915050565b600082825260208201905092915050565b7f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00600082015250565b6000610be3601f83610b9c565b9150610bee82610bad565b602082019050919050565b60006020820190508181036000830152610c1281610bd6565b9050919050565b7f696e76616c696420706179696e67206665650000000000000000000000000000600082015250565b6000610c4f601283610b9c565b9150610c5a82610c19565b602082019050919050565b60006020820190508181036000830152610c7e81610c42565b9050919050565b60008115159050919050565b610c9a81610c85565b8114610ca557600080fd5b50565b600081519050610cb781610c91565b92915050565b600060208284031215610cd357610cd261091d565b5b6000610ce184828501610ca8565b91505092915050565b7f6475706c69636174656420746f6b656e20696400000000000000000000000000600082015250565b6000610d20601383610b9c565b9150610d2b82610cea565b602082019050919050565b60006020820190508181036000830152610d4f81610d13565b9050919050565b7f736f6c64206f7574000000000000000000000000000000000000000000000000600082015250565b6000610d8c600883610b9c565b9150610d9782610d56565b602082019050919050565b60006020820190508181036000830152610dbb81610d7f565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610dfc8261080f565b915061ffff821415610e1157610e10610dc2565b5b600182019050919050565b6000610e37610e32610e2d8461080f565b610b22565b6108df565b9050919050565b610e4781610e1c565b82525050565b600081519050919050565b60005b83811015610e76578082015181840152602081019050610e5b565b83811115610e85576000848401525b50505050565b6000610e9682610e4d565b610ea08185610b9c565b9350610eb0818560208601610e58565b610eb98161095d565b840191505092915050565b600060a082019050610ed960008301886108e9565b610ee66020830187610879565b610ef36040830186610879565b610f006060830185610e3e565b8181036080830152610f128184610e8b565b90509695505050505050565b7f696e76616c69642073656e646572000000000000000000000000000000000000600082015250565b6000610f54600e83610b9c565b9150610f5f82610f1e565b602082019050919050565b60006020820190508181036000830152610f8381610f47565b9050919050565b7f416464726573733a20696e73756666696369656e742062616c616e6365000000600082015250565b6000610fc0601d83610b9c565b9150610fcb82610f8a565b602082019050919050565b60006020820190508181036000830152610fef81610fb3565b9050919050565b600081905092915050565b50565b6000611011600083610ff6565b915061101c82611001565b600082019050919050565b600061103282611004565b9150819050919050565b7f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260008201527f6563697069656e74206d61792068617665207265766572746564000000000000602082015250565b6000611098603a83610b9c565b91506110a38261103c565b604082019050919050565b600060208201905081810360008301526110c78161108b565b905091905056fea26469706673582212201bc3ef413c412c2add82f4ca57dea10836371fa38f45545b2616946fde4b9f0c64736f6c63430008090033",
  deployedBytecode:
    "0x6080604052600436106100865760003560e01c8063a035b1fe11610059578063a035b1fe14610137578063b7dc3b1814610162578063be3576161461017e578063c4d1510d146101a7578063d56d229d146101d257610086565b80633833ee911461008b5780634c00de82146100b65780639051b451146100e15780639d65dc971461010c575b600080fd5b34801561009757600080fd5b506100a06101fd565b6040516100ad919061082c565b60405180910390f35b3480156100c257600080fd5b506100cb610211565b6040516100d89190610888565b60405180910390f35b3480156100ed57600080fd5b506100f6610237565b60405161010391906108c4565b60405180910390f35b34801561011857600080fd5b5061012161025d565b60405161012e919061082c565b60405180910390f35b34801561014357600080fd5b5061014c610271565b60405161015991906108f8565b60405180910390f35b61017c60048036038101906101779190610a99565b610277565b005b34801561018a57600080fd5b506101a560048036038101906101a09190610af5565b6105be565b005b3480156101b357600080fd5b506101bc6106d9565b6040516101c9919061082c565b60405180910390f35b3480156101de57600080fd5b506101e76106ed565b6040516101f49190610b81565b60405180910390f35b600360189054906101000a900461ffff1681565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600360169054906101000a900461ffff1681565b60025481565b600260005414156102bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b490610bf9565b60405180910390fd5b60026000819055506002543414610309576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161030090610c65565b60405180910390fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16634f558e79836040518263ffffffff1660e01b815260040161036491906108f8565b60206040518083038186803b15801561037c57600080fd5b505afa158015610390573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b49190610cbd565b156103f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103eb90610d36565b60405180910390fd5b600360169054906101000a900461ffff1661ffff16600360189054906101000a900461ffff1661ffff161061045e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161045590610da2565b60405180910390fd5b6003601881819054906101000a900461ffff168092919061047e90610df1565b91906101000a81548161ffff021916908361ffff16021790555050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ea65ee05836104e0610713565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600360149054906101000a900461ffff16866040518663ffffffff1660e01b8152600401610535959493929190610ec4565b600060405180830381600087803b15801561054f57600080fd5b505af1158015610563573d6000803e3d6000fd5b5050505081610570610713565b73ffffffffffffffffffffffffffffffffffffffff167fae92ab4b6f8f401ead768d3273e6bb937a13e39827d19c6376e8fd4512a05d9a60405160405180910390a360016000819055505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166105ff610713565b73ffffffffffffffffffffffffffffffffffffffff1614610655576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064c90610f6a565b60405180910390fd5b610681600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168261071b565b610689610713565b73ffffffffffffffffffffffffffffffffffffffff167f7084f5476618d8e60b11ef0d7d3f06914655adb8793e28ff7f018d4c76d505d5826040516106ce91906108f8565b60405180910390a250565b600360149054906101000a900461ffff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600033905090565b8047101561075e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161075590610fd6565b60405180910390fd5b60008273ffffffffffffffffffffffffffffffffffffffff168260405161078490611027565b60006040518083038185875af1925050503d80600081146107c1576040519150601f19603f3d011682016040523d82523d6000602084013e6107c6565b606091505b505090508061080a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610801906110ae565b60405180910390fd5b505050565b600061ffff82169050919050565b6108268161080f565b82525050565b6000602082019050610841600083018461081d565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061087282610847565b9050919050565b61088281610867565b82525050565b600060208201905061089d6000830184610879565b92915050565b60006108ae82610847565b9050919050565b6108be816108a3565b82525050565b60006020820190506108d960008301846108b5565b92915050565b6000819050919050565b6108f2816108df565b82525050565b600060208201905061090d60008301846108e9565b92915050565b6000604051905090565b600080fd5b600080fd5b610930816108df565b811461093b57600080fd5b50565b60008135905061094d81610927565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6109a68261095d565b810181811067ffffffffffffffff821117156109c5576109c461096e565b5b80604052505050565b60006109d8610913565b90506109e4828261099d565b919050565b600067ffffffffffffffff821115610a0457610a0361096e565b5b610a0d8261095d565b9050602081019050919050565b82818337600083830152505050565b6000610a3c610a37846109e9565b6109ce565b905082815260208101848484011115610a5857610a57610958565b5b610a63848285610a1a565b509392505050565b600082601f830112610a8057610a7f610953565b5b8135610a90848260208601610a29565b91505092915050565b60008060408385031215610ab057610aaf61091d565b5b6000610abe8582860161093e565b925050602083013567ffffffffffffffff811115610adf57610ade610922565b5b610aeb85828601610a6b565b9150509250929050565b600060208284031215610b0b57610b0a61091d565b5b6000610b198482850161093e565b91505092915050565b6000819050919050565b6000610b47610b42610b3d84610847565b610b22565b610847565b9050919050565b6000610b5982610b2c565b9050919050565b6000610b6b82610b4e565b9050919050565b610b7b81610b60565b82525050565b6000602082019050610b966000830184610b72565b92915050565b600082825260208201905092915050565b7f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00600082015250565b6000610be3601f83610b9c565b9150610bee82610bad565b602082019050919050565b60006020820190508181036000830152610c1281610bd6565b9050919050565b7f696e76616c696420706179696e67206665650000000000000000000000000000600082015250565b6000610c4f601283610b9c565b9150610c5a82610c19565b602082019050919050565b60006020820190508181036000830152610c7e81610c42565b9050919050565b60008115159050919050565b610c9a81610c85565b8114610ca557600080fd5b50565b600081519050610cb781610c91565b92915050565b600060208284031215610cd357610cd261091d565b5b6000610ce184828501610ca8565b91505092915050565b7f6475706c69636174656420746f6b656e20696400000000000000000000000000600082015250565b6000610d20601383610b9c565b9150610d2b82610cea565b602082019050919050565b60006020820190508181036000830152610d4f81610d13565b9050919050565b7f736f6c64206f7574000000000000000000000000000000000000000000000000600082015250565b6000610d8c600883610b9c565b9150610d9782610d56565b602082019050919050565b60006020820190508181036000830152610dbb81610d7f565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610dfc8261080f565b915061ffff821415610e1157610e10610dc2565b5b600182019050919050565b6000610e37610e32610e2d8461080f565b610b22565b6108df565b9050919050565b610e4781610e1c565b82525050565b600081519050919050565b60005b83811015610e76578082015181840152602081019050610e5b565b83811115610e85576000848401525b50505050565b6000610e9682610e4d565b610ea08185610b9c565b9350610eb0818560208601610e58565b610eb98161095d565b840191505092915050565b600060a082019050610ed960008301886108e9565b610ee66020830187610879565b610ef36040830186610879565b610f006060830185610e3e565b8181036080830152610f128184610e8b565b90509695505050505050565b7f696e76616c69642073656e646572000000000000000000000000000000000000600082015250565b6000610f54600e83610b9c565b9150610f5f82610f1e565b602082019050919050565b60006020820190508181036000830152610f8381610f47565b9050919050565b7f416464726573733a20696e73756666696369656e742062616c616e6365000000600082015250565b6000610fc0601d83610b9c565b9150610fcb82610f8a565b602082019050919050565b60006020820190508181036000830152610fef81610fb3565b9050919050565b600081905092915050565b50565b6000611011600083610ff6565b915061101c82611001565b600082019050919050565b600061103282611004565b9150819050919050565b7f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260008201527f6563697069656e74206d61792068617665207265766572746564000000000000602082015250565b6000611098603a83610b9c565b91506110a38261103c565b604082019050919050565b600060208201905081810360008301526110c78161108b565b905091905056fea26469706673582212201bc3ef413c412c2add82f4ca57dea10836371fa38f45545b2616946fde4b9f0c64736f6c63430008090033",
  linkReferences: {},
  deployedLinkReferences: {},
};

let web3js;
let sale_contract;
window.addEventListener("load", function () {
  if (typeof web3 !== "undefined") {
    web3js = new Web3(web3.currentProvider);
  } else {
    alert("MetaMaskをインストールして下さい");
  }
  startApp();
});

function startApp() {
  web3js.eth.getAccounts(function (err, accounts) {
    coinbase = accounts[0];
    console.log("coinbase is " + coinbase);
    if (typeof coinbase === "undefined") {
      alert("MetaMaskを起動してください．");
    }
  });

  sale_contract = new web3js.eth.Contract(
    sale_contract_abi.abi,
    sale_contract_addr
  );

  document.getElementById("withdraw").addEventListener("click", withdraw);
  document
    .getElementById("soldTokenCounter")
    .addEventListener("click", soldTokenCounter);
}

function withdraw() {
  var amount = document.getElementById("amount").value;

  return sale_contract.methods
    .withdrawFee(web3js.utils.toWei(amount))
    .send({ from: coinbase })
    .on("receipt", function (receipt) {
      alert("success");
    })
    .on("error", function (error) {
      alert("error" + error);
    });
}

function soldTokenCounter() {
  contract.methods
    .soldTokenCounter()
    .call()
    .then(function (soldTokenCounter) {
      console.log(soldTokenCounter);
    });
}
